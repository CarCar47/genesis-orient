<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Genesis Vocational Institute - Student Orientation</title>
    <meta name="description" content="Interactive student orientation quiz for Genesis Vocational Institute healthcare programs">
    <meta name="keywords" content="school orientation, healthcare education, Genesis Vocational Institute, quiz">
    <link rel="stylesheet" href="css/styles.css">
    <link rel="icon" type="image/x-icon" href="assets/favicon.ico">
    
    <!-- Accessibility and SEO Meta Tags -->
    <meta name="author" content="Genesis Vocational Institute">
    <meta name="theme-color" content="#2c3e50">
    <meta property="og:title" content="Genesis Vocational Institute - Student Orientation">
    <meta property="og:description" content="Interactive student orientation quiz for Genesis Vocational Institute healthcare programs">
    <meta property="og:type" content="website">
</head>
<body>
    <!-- Skip link for keyboard navigation -->
    <a href="#main-content" class="skip-link">Skip to main content</a>
    <!-- Loading Screen -->
    <div id="loadingScreen" class="screen active">
        <div class="loading-container">
            <div class="spinner"></div>
            <h2>Loading Orientation...</h2>
            <p id="loadingStatus">Preparing your learning experience</p>
            <div id="debugInfo" style="font-size: 12px; margin-top: 20px; color: rgba(255,255,255,0.7);"></div>
        </div>
    </div>

    <!-- Start Screen -->
    <div id="startScreen" class="screen">
        <div id="main-content">
        <div class="container">
            <header class="school-header">
                <h1>Genesis Vocational Institute</h1>
                <h2>Student Orientation</h2>
            </header>
            
            <div class="start-content">
                <div class="welcome-card">
                    <!-- Language Selector -->
                    <div class="language-selector">
                        <button type="button" id="languageEnglish" class="language-btn active" data-translate="language_english">English</button>
                        <button type="button" id="languageSpanish" class="language-btn" data-translate="language_spanish">Espa√±ol</button>
                    </div>
                    
                    <h3 data-translate="welcome_orientation">Welcome to Your Orientation</h3>
                    <p data-translate="orientation_description">Complete this interactive orientation to learn about our school policies and procedures.</p>
                    
                    <form id="startForm" class="start-form">
                        <div class="form-group">
                            <label for="studentName" data-translate="full_name_label">Full Name *</label>
                            <input type="text" id="studentName" name="studentName" required 
                                   placeholder="Enter your full name"
                                   aria-describedby="nameHelp" autocomplete="name">
                            <span id="nameHelp" class="sr-only">Enter your complete legal name as it should appear on your certificate</span>
                        </div>
                        
                        <div class="form-group">
                            <label for="programSelect" data-translate="program_label">Select Your Program *</label>
                            <select id="programSelect" name="programSelect" required 
                                    aria-describedby="programHelp">
                                <option value="" data-translate="choose_program">Choose a program...</option>
                                <option value="Home Health Aide">Home Health Aide (75 Clock Hours, Diploma)</option>
                                <option value="Nursing Assistant">Nursing Assistant (120 Clock Hours, Diploma)</option>
                                <option value="Phlebotomy Technician">Phlebotomy Technician (165 Clock Hours, Diploma)</option>
                                <option value="Electrocardiograph Technician">Electrocardiograph Technician (165 Clock Hours, Diploma)</option>
                                <option value="Patient Care Technician">Patient Care Technician (600 Clock Hours, Diploma)</option>
                                <option value="Medical Assistant">Medical Assistant (936 Clock Hours, Diploma)</option>
                                <option value="Medical Billing and Coding">Medical Billing and Coding (1000 Clock Hours, Diploma)</option>
                            </select>
                            <span id="programHelp" class="sr-only">Choose the healthcare program you are enrolled in</span>
                        </div>
                        
                        <button type="submit" class="btn btn-primary" data-translate="start_orientation">Start Orientation</button>
                    </form>
                </div>
            </div>
            
            <footer class="school-info">
                <div class="school-details">
                    <h4>Genesis Vocational Institute</h4>
                    <p>12851 SW 42nd. Street 2nd Floor #131, Miami Florida 33175</p>
                    <p>Ph: 305-223-05062 | Fax: 305-223-0509</p>
                    <p>Email: info@gvi.edu | Web: <a href="https://www.gvi.edu/" target="_blank">www.gvi.edu</a></p>
                </div>
            </footer>
        </div>
        </div>
    </div>

    <!-- Quiz Screen -->
    <div id="quizScreen" class="screen">
        <div class="container">
            <header class="quiz-header">
                <div class="progress-container">
                    <div class="progress-bar">
                        <div id="progressFill" class="progress-fill"></div>
                    </div>
                    <span id="questionCounter" class="question-counter">Question 1 of 25</span>
                </div>
            </header>
            
            <div class="quiz-content">
                <div id="questionCard" class="question-card">
                    <div class="description-section">
                        <h3 data-translate="policy_information">Policy Information</h3>
                        <div id="descriptionText" class="description-text"></div>
                    </div>
                    
                    <div class="question-section">
                        <h4 id="questionText" class="question-text"></h4>
                        <div class="question-content">
                            <div id="choicesContainer" class="choices-container"></div>
                            <div id="inlineFeedback" class="inline-feedback hidden">
                                <div class="feedback-display">
                                    <div id="feedbackIcon" class="feedback-icon"></div>
                                    <div class="feedback-content">
                                        <div id="feedbackText" class="feedback-text"></div>
                                        <button id="continueBtn" class="btn btn-primary">Continue</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Results Screen -->
    <div id="resultsScreen" class="screen">
        <div class="container">
            <header class="results-header">
                <h2>Orientation Complete!</h2>
            </header>
            
            <div class="results-content">
                <div class="score-display">
                    <div class="score-circle">
                        <span id="scorePercentage" class="score-number">0%</span>
                        <span class="score-label">Score</span>
                    </div>
                    <div class="grade-display">
                        <span id="letterGrade" class="letter-grade">F</span>
                    </div>
                </div>
                
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-value" id="correctAnswers">0</div>
                        <div class="stat-label">Correct</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="incorrectAnswers">0</div>
                        <div class="stat-label">Incorrect</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="timeSpent">0:00</div>
                        <div class="stat-label">Time</div>
                    </div>
                </div>
                
                <div class="results-actions">
                    <button id="downloadCertificate" class="btn btn-primary">
                        Download Certificate
                    </button>
                    <button id="reviewAnswers" class="btn btn-secondary">
                        Review Answers
                    </button>
                    <button id="restartQuiz" class="btn btn-secondary">
                        Restart Orientation
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modals -->
    <div id="modalOverlay" class="modal-overlay hidden">
        <div class="modal">
            <div class="modal-header">
                <h3 id="modalTitle">Modal Title</h3>
                <button id="closeModal" class="close-btn">&times;</button>
            </div>
            <div class="modal-body">
                <div id="modalContent">Modal content goes here</div>
            </div>
            <div class="modal-footer">
                <button id="modalAction" class="btn btn-primary">OK</button>
            </div>
        </div>
    </div>

    <!-- How It Works Modal -->
    <div id="howItWorksModal" class="modal-overlay hidden">
        <div class="modal">
            <div class="modal-header">
                <h3>How the Orientation Works</h3>
                <button class="close-btn modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <div class="how-it-works-content">
                    <h4>Welcome to your interactive orientation!</h4>
                    <ul>
                        <li>You'll be presented with 25 questions about school policies</li>
                        <li>Each question is preceded by important information from our handbook</li>
                        <li>Choose the best answer from the multiple choice options</li>
                        <li>You'll receive immediate feedback after each answer</li>
                        <li>Your progress is tracked throughout the quiz</li>
                        <li>At the end, you'll receive a grade and can download a certificate</li>
                    </ul>
                    <p><strong>Take your time and read carefully!</strong> This orientation will help you understand our school's policies and expectations.</p>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-primary modal-close">Got it!</button>
            </div>
        </div>
    </div>

    <!-- Review Answers Modal -->
    <div id="reviewModal" class="modal-overlay hidden">
        <div class="modal large">
            <div class="modal-header">
                <h3>Review Your Answers</h3>
                <button class="close-btn modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <div id="reviewContent" class="review-content"></div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-primary modal-close">Close</button>
            </div>
        </div>
    </div>

    <!-- Exit Confirmation Modal -->
    <div id="exitModal" class="modal-overlay hidden">
        <div class="modal">
            <div class="modal-header">
                <h3>Exit Orientation?</h3>
                <button class="close-btn modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <p>Are you sure you want to exit? Your progress will be lost.</p>
            </div>
            <div class="modal-footer">
                <button id="confirmExit" class="btn btn-danger">Exit</button>
                <button class="btn btn-secondary modal-close">Cancel</button>
            </div>
        </div>
    </div>

    <!-- Action Bar (floating) -->
    <div id="actionBar" class="action-bar hidden">
        <button id="howItWorksBtn" class="action-btn" title="How it works">
            <span>?</span>
        </button>
        <button id="exitBtn" class="action-btn" title="Exit orientation">
            <span>‚úï</span>
        </button>
    </div>

    <!-- Scripts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js" onerror="loadJsPDFFallback()"></script>
    <script>
        // Fallback jsPDF loader
        function loadJsPDFFallback() {
            console.log('Primary CDN failed, trying fallback...');
            const script = document.createElement('script');
            script.src = 'https://unpkg.com/jspdf@2.5.1/dist/jspdf.umd.min.js';
            script.onerror = function() {
                console.error('All jsPDF CDNs failed to load');
                window.jsPDFError = true;
            };
            document.head.appendChild(script);
        }
        
        // Ensure jsPDF is available globally after loading
        window.addEventListener('load', function() {
            setTimeout(function() {
                if (typeof window.jspdf !== 'undefined') {
                    console.log('jsPDF loaded successfully');
                } else if (!window.jsPDFError) {
                    console.log('jsPDF still loading...');
                } else {
                    console.error('jsPDF failed to load from all sources');
                }
            }, 500);
        });
    </script>
    <script src="js/translations.js"></script>
    <script src="js/language-manager.js"></script>
    <script src="js/questions.js"></script>
    <script src="js/quiz-engine.js"></script>
    <script src="js/ui-manager.js"></script>
    <script src="js/app.js"></script>
</body>
</html>